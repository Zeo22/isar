@using ISAR.Models;
@{
    ApplicationDbContext db = new ApplicationDbContext();
    ApplicationUser user = db.Users.FirstOrDefault(item => item.UserName == User.Identity.Name);
}

@if (user != null) { 
<ul class="menu-items">
    <li>
        <h2>&nbsp;</h2>
    </li>
@if (user.TieneNivel(1) || user.TienePermiso(1, 3, 5))
{
    <li class="">
        <a href="javascript:;">
            <span class="title">Nivel Superior</span>
        </a>
        <ul class="sub-menu">
            <li class="">
                @Html.ActionLink("Mision y Vision", "index", "dashboard")
            </li>
            @if (user.TienePermiso(1, 5))
            {
                <li class="">
                    @Html.ActionLink("Objetivos de la Organización", "index", "objetivos", new { lvl = 1 }, new { })
                </li>
            }
            @if (user.TienePermiso(1, 3))
            {
                <li class="">
                    @Html.ActionLink("Estrategias Generales", "index", "estrategias", new { lvl = 1 }, new { })
                </li>
            }
            <li class="">
                @Html.ActionLink("Tableros de Indicadores", "index", "dashboard")
            </li>
        </ul>
    </li>
}
@if (user.TieneNivel(2) || user.TienePermiso(1, 8, 10) || user.TieneNivel(1))
{
    <li class="">
        <a href="javascript:;">
            <span class="title">Nivel Vicepresidencia</span>
        </a>
        <ul class="sub-menu">
            @if (user.TienePermiso(1, 8))
            {
                <li class="">
                    @Html.ActionLink("Objetivos Estratégicos", "index", "objetivos", new { lvl = 2 }, new { })
                </li>
            }
            @if (user.TienePermiso(1, 10))
            {
                <li class="">
                    @Html.ActionLink("Estrategias Especifícas", "index", "estrategias", new { lvl = 2 }, new { })
                </li>
            }
            <li class="">
                @Html.ActionLink("Tableros de Indicadores", "index", "dashboard")
            </li>
        </ul>
    </li>
}
@if (user.TieneNivel(3) || user.TienePermiso(1, 12) || user.TieneNivel(1))
{
    <li class="">
        <a href="javascript:;">
            <span class="title">Nivel Operativo</span>
        </a>
        <ul class="sub-menu">
            @if (user.TienePermiso(1, 12))
            {
                <li class="">
                    @Html.ActionLink("Objetivos Operativos", "index", "objetivos", new { lvl = 3 }, new { })
                </li>
            }
            <li class="">
                @Html.ActionLink("Procesos", "index", "dashboard")
            </li>
            <li class="">
                @Html.ActionLink("Proyectos", "index", "dashboard")
            </li>
            <li class="">
                @Html.ActionLink("Indicadores", "index", "dashboard")
            </li>
        </ul>
    </li>
}
@if (user.TienePermiso(1))
{
    <li class="">
        <a href="javascript:;">
            <span class="title">Administración</span>
        </a>
        <ul class="sub-menu">
            <li class="">
                @Html.ActionLink("Areas", "index", "areas")
            </li>
            <li class="">
                @Html.ActionLink("Unidades de Medida", "index", "unidaddemedida")
            </li>
            <li class="">
                @Html.ActionLink("Periodos", "index", "periodos")
            </li>
            <li class="">
                @Html.ActionLink("Atribuciones", "index", "atribuciones")
            </li>
            <li class="">
                @Html.ActionLink("Puestos", "index", "puestos")
            </li>
            <li class="">
                @Html.ActionLink("Roles", "index", "roles")
            </li>
            <li class="">
                @Html.ActionLink("Usuarios", "index", "usuarios")
            </li>
        </ul>
    </li>
}
</ul>
<div class="clearfix"></div>

}